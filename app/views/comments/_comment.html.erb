<%# locals: (comment: Comment) %>
<div class="flex py-1 gap-2">
  <%= render 'shared/ui/avatar', avatar: comment.commenter.avatar %>
  <div>
    <div class="flex flex-col gap-1 border border-base-300 p-2 rounded-box">
      <div class="flex items-center gap-2">
        @<%= comment.commenter.username %>
        &CenterDot;
        <%= time_ago_in_words(comment.created_at) %> ago
      </div>
      <p>
        <%= comment.body %>
      </p>
    </div>
    <div class="flex gap-2 items-center">
      <% class_name = ' bg-base-300' if comment.is_voted? current_user %>
      <%= button_to upvote_comment_path(comment), class: "grid size-6 place-items-center rounded-full #{class_name} cursor-pointer" do %>
        <%= render_icon 'upvote', class: 'size-4' %>
      <% end %>
      <%= comment.vote_count %> upvotes
      <span>reply</span>
    </div>
  </div>
</div>
<div class="pl-8">
  <%= render comment.replies %>
</div>
