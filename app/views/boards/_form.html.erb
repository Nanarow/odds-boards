<%= form_with(model: board, class: "form") do |form| %>
  <% if board.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(board.errors.count, "error") %> prohibited this board from being saved:</h2>
      <ul>
        <% board.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <fieldset>
    <%= form.label :title %>
    <%= form.text_field :title, class: 'input-lg font-bold' %>
  </fieldset>
  <fieldset>
    <%= form.label :body %>
    <%= form.textarea :body, rows: 10 %>
  </fieldset>
  <fieldset>
    <%= form.label :category %>
    <%= render 'components/ui/selector', class: 'w-full', placeholder: "Category", options: @categories, name: "board[category_id]", defaultValue: @board.category_id.to_s %>
  </fieldset>
  <fieldset >
    <%= form.label :tag_names, "Tags" %>
    <%= render 'components/ui/multi_select', name: "board[tags]", options: @tags, placeholder: "Enter tag name ...", class: 'w-full', defaultValue: @board.tags.pluck(:name) %>
  </fieldset>
  <div class="flex gap-2">
    <%= button_tag "Save as Draft", type: :submit, name: "board[state]", value: :is_draft %>
    <%= button_tag "Save and Publish",type: :submit, name: "board[state]", value: :is_published %>
  </div>
<% end %>
